spring:
  application:
    name: video-service

  datasource:
    url: ${PG_URL}
    username: ${PG_USERNAME}
    password: ${PG_PASSWORD}

  liquibase:
    enabled: false

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true

  elasticsearch:
    uris: ${ELASTICSEARCH_URL}
    connection-timeout: 10s
  
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${ISSUER_URL}
          jwk-set-uri: ${JWT_SET_URL}

eureka:
  client:
    service-url:
      defaultZone: ${EUREKA_URL}
  instance:
    prefer-ip-address: true

server:
  port: 8082

# MinIO Configuration
minio:
  endpoint: ${MINIO_ENDPOINT}
  access-key: ${MINIO_ACCESS_KEY}
  secret-key: ${MINIO_SECRET_KEY}
  bucket:
    videos: streamflow-videos
    thumbnails: streamflow-thumbnails
  url-expiry: 3600 # 1 hour in seconds

# File Upload Configuration
file:
  upload:
    max-size: 10000MB
    allowed-video-types: mp4,avi,mov,mkv,webm
    allowed-image-types: jpg,jpeg,png,gif,webp